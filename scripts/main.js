"use strict";function getTimeRemaining(){for(var e=0;e<events.length;e++)if(Date.parse(new Date)<Date.parse(events[e].datetime)){targetDate=events[e];break}var t=Date.parse(targetDate.datetime)-Date.parse(new Date),a=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),o=Math.floor(t/36e5%24),i=Math.floor(t/864e5);return{total:t,days:i,hours:o,minutes:n,seconds:a}}var events=[{name:"App Release",publicName:"App Release Countdown",datetime:"February 14 2016 16:00:00 GMT+05:30"},{name:"Full Release",publicName:"Peace Radio Launch Countdown",datetime:"April 3 2016 17:00:00 GMT+05:30"}];$(document).ready(function(){$("#headerLiveHolder").peaceRadioLiveTrackInfo({sourceDomain:"http://schedule.peaceradio.com",text:{onAirNow:"On Air",offline:"Offline",current:"Current",next:"Next"},updatePeriod:20})});var targetDate;if(getTimeRemaining()){var countdown=getTimeRemaining(targetDate.datetime),currentTotal=countdown.total;TweenLite.to(countdown,countdown.total,{total:0,roundProps:"total",ease:Linear.easeNone,onUpdate:function(){currentTotal!==this.target.total&&targetDate&&(countdown=getTimeRemaining(),$(".event-in").text(targetDate.publicName),$("#clockdiv .days").text(countdown.days),$("#clockdiv .hours").text(countdown.hours),$("#clockdiv .minutes").text(countdown.minutes),$("#clockdiv .seconds").text(countdown.seconds),currentTotal=this.target.total)}})}else $(".event-in, #countdown, .in-sha-Allah").hide();!function(e){e.fn.peaceRadioLiveTrackInfo=function(t){var a={updatePeriod:5,sourceDomain:"http://localhost/",text:{onAirNow:"On Air Now",offline:"Offline",current:"Playing",next:"Next"}};return t=e.extend(!0,a,t),t.sourceDomain=addEndingBackslash(t.sourceDomain),this.each(function(){function a(){if(null!=c){var e=c.getCurrentShow(),a=c.getNextShows(),n=t.text.offline,o="",i="",l="",u="",s="";e.length>0&&(n=t.text.onAirNow,o=e[0].getName(),i=c.getShowTimeElapsed(e[0]),l=c.getShowTimeRemaining(e[0])),a.length>0&&(u=a[0].getName(),s=a[0].getRange()),r.empty(),r.append("<ul class='widget now-playing-bar'><li class='current track-metadata'>"+c.currentTrack.getTitle()+"</li></ul>")}}function n(e){checkWidgetVersion(e),c=new ScheduleData(e)}function o(e,t,a){}function i(){e.ajax({url:t.sourceDomain+"api/live-info/",data:{type:"interval",limit:"5"},dataType:"json",success:function(e){n(e)},error:o}),setTimeout(i,1e3*t.updatePeriod)}var r=e(this),c=null;i(),setInterval(a,1e3)})}}(jQuery);var tl=new TimelineMax({repeat:-1}),tl2=new TimelineMax({repeat:0});tl.staggerFromTo(".circle",.5,{scale:.1,opacity:0},{opacity:1,scale:1.2},.3),tl2.fromTo(".activity",1,{top:50,opacity:0},{top:0,opacity:1},1),tl2.fromTo("#clockdiv",1,{y:20,opacity:0},{y:0,opacity:1},1),tl2.staggerFromTo("#clockdiv > div",.2,{y:20,opacity:0,ease:new Ease(BezierEasing(.95,.035,.965,.28))},{y:0,opacity:1},.1);