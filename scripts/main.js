function doTitleChangeAnimation(){"use strict";titleChangeAnimation.to(".temp-title",.6,{opacity:0,y:-10,ease:Power4.easeOut,onComplete:removeTemp},"+=0").to(".show-info",.6,{css:{maxWidth:"200px"},ease:Power4.easeOut},"+=0.3").fromTo(".peaceradio-loading",.6,{y:10,scale:1},{display:"block",opacity:1,y:0,scale:1,ease:Power4.easeOut},"+=0.1").fromTo(".peaceradio-loading",.6,{y:0},{display:"none",opacity:0,y:-10,scale:1,ease:Power4.easeOut},"+=2").to(".show-info",.6,{css:{maxWidth:"530px"},ease:Power4.easeOut},"-=0.1").fromTo(".current-show",.6,{y:10},{display:"block",opacity:1,y:0,ease:Power4.easeOut},"+=0").fromTo(".current",.6,{y:10},{display:"block",opacity:1,y:0,ease:Power4.easeOut},"-=0.4")}function removeTemp(){"use strict";$(".temp-title").remove()}var titleChangeAnimation=new TimelineMax({repeat:0});$(document).ready(function(){$("#headerLiveHolder span.text").peaceRadioLiveTrackInfo({sourceDomain:"http://schedule.peaceradio.com",text:{onAirNow:"On Air",offline:"Offline",current:$(".track-metadata").text(),next:"Next"},updatePeriod:15})}),function(e){e.fn.peaceRadioLiveTrackInfo=function(t){var a={updatePeriod:15,sourceDomain:"http://localhost/",text:{onAirNow:"On Air Now",offline:"Offline",current:"Playing",next:"Next"}};return t=e.extend(!0,a,t),t.sourceDomain=addEndingBackslash(t.sourceDomain),this.each(function(){function a(){if(null!==c){var a=c.getCurrentShow(),o=c.getNextShows(),n=c.currentTrack.getTitle(),i=t.text.offline,l="",s="",u="",d="",p="",m=e(".current").text();a.length>0?(i=t.text.onAirNow,l=a[0].getName(),n=c.currentTrack.getTitle(),s=c.getShowTimeElapsed(a[0]),u=c.getShowTimeRemaining(a[0]),0===n.length||n.indexOf("#peaceradio")>-1&&(n="Stay tuned for the next program")):(i=t.text.offline,l="No Broadcast",n="Peace Radio will be right back! In sha Allah"),o.length>0&&(d=o[0].getName(),p=o[0].getRange()),m!=n&&(r.find("li.current").addClass("temp-title").removeClass("current"),r.find("li.current-show").addClass("temp-title").removeClass("current-show"),r.children("ul").append("<li class='current-show display-none'>"+l+"</li>"),r.children("ul").append("<li class='current display-none'>"+n+"</li>"),doTitleChangeAnimation())}}function o(e){checkWidgetVersion(e),c=new ScheduleData(e)}function n(e,t,a){}function i(){e.ajax({url:t.sourceDomain+"api/live-info/",data:{type:"interval",limit:"5"},dataType:"json",success:function(e){o(e)},error:n}),setTimeout(i,1e3*t.updatePeriod)}var r=e(this),c=null;i(),setInterval(a,5e3)})}}(jQuery);